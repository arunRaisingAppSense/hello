
<% if !flash[:notice].blank? %>
   <div class = "alert alert-info">
      <%= flash[:notice] %>
   </div>
<% end %>
<!-- <p id="notice"><%= notice %></p> -->

<h1>Candies</h1>
<p>has_and_belongs_to_many Association</p>
<table class="table table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Kids</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @candies.each do |candy| %>
      <tr>
        <td><%= candy.name %></td>
        <td><%= candy.kids.map {|k| k.name}.join(', ') %></td>
        <td><%= link_to '<i class="glyphicon glyphicon-share"></i>Show'.html_safe, candy %></td>
        <td><%= link_to '<i class="glyphicon glyphicon-edit"></i>Edit'.html_safe, edit_candy_path(candy) %></td>
        <td><%= link_to '<i class="glyphicon glyphicon-trash"></i>Delete'.html_safe, candy, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to '<i class="glyphicon glyphicon-pencil"></i>New Candy'.html_safe, new_candy_path, class: 'btn btn-primary' %>


<!-- 
<%= link_to "#", method: :delete, data: { confirm: 'Are you sure?' }, remote: true do %>
      <i class="glyphicon glyphicon-trash"></i>
    <% end %> -->